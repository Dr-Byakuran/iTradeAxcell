@using iTrade.CustomHtmlHelper;
@model IEnumerable<iTrade.Models.ClassSchedule>
@*@model IEnumerable<iTrade.Models.Course>*@

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_LayoutMain.cshtml";

}
<!-- ================== BEGIN PAGE LEVEL STYLE ================== -->
<link href="@Url.Content("~/assets/plugins/DataTables/css/data-table.css")" rel="stylesheet" type="text/css" />
<link href="@Url.Content("~/assets/plugins/gritter/css/jquery.gritter.css")" rel="stylesheet" type="text/css" />

<link href="@Url.Content("~/assets/plugins/bootstrap-datepicker/css/datepicker.css")" rel="stylesheet" type="text/css" />

<link href="@Url.Content("~/assets/plugins/bootstrap-combobox/css/bootstrap-combobox.css")" rel="stylesheet" type="text/css" />
<link href="@Url.Content("~/assets/plugins/bootstrap-select/bootstrap-select.min.css")" rel="stylesheet" type="text/css" />
<link href="@Url.Content("~/assets/plugins/select2/dist/css/select2.min.css")" rel="stylesheet" type="text/css" />
<link href="@Url.Content("~/assets/plugins/bootstrap-timepicker/css/bootstrap-timepicker.min.css")" rel="stylesheet" type="text/css" />
<link href="@Url.Content("~/assets/css/star-items-table.css")" rel="stylesheet" type="text/css" />

<link href="@Url.Content("~/assets/plugins/parsley/src/parsley.css")" rel="stylesheet" type="text/css" />


<!-- ================== END PAGE LEVEL STYLE ================== -->
<!-- begin page-header -->
<div class="page-header lead">
    Attendance
    <span class="email-btn-row hidden-xs pull-right">
        @*<a href="#additemModal" data-toggle="modal" class="btn btn-primary"><i class="fa fa-plus m-r-5"></i> New schedule</a>*@

    </span>

</div>

<div class="">
    <ul class="nav nav-tabs">
        <li class="active"><a href="#default-tab-1" data-toggle="tab"><h5 class="media-heading">Today </h5> </a></li>
        <li class=""><a href="#default-tab-2" data-toggle="tab"><h5 class="media-heading">Upcoming Class</h5> </a></li>
        <li class=""><a href="#default-tab-3" data-toggle="tab"><h5 class="media-heading">Pass Attendance</h5> </a></li>
    </ul>

</div>
<div class="tab-content">
    <div class="tab-pane fade active in" id="default-tab-1">
        <p class="lead">  @System.DateTime.Today.ToLongDateString() </p>
        <input type="hidden" id="selectedDate" value="@System.DateTime.Today" />

        <div id="divOrderDetail">

        </div>
        <br /><br /><br /><br />
    </div>
    <div class="tab-pane fade" id="default-tab-2">
        <div class="row">
            <div class="col-md-12">
                <div class="table-responsive">
                    @{Html.RenderAction("_DisplayClassAttendancesHist", "Attendance", new { thedate = "", thetype = "AFTER" });}
                </div>
            </div>
        </div>

        <br /><br /><br /><br />
    </div>
    <div class="tab-pane fade" id="default-tab-3">
        <div class="row">
            <div class="col-md-12">
                <div class="table-responsive">
                    @{Html.RenderAction("_DisplayClassAttendancesHist", "Attendance", new { thedate = "", thetype = "BEFORE" });}
                </div>
            </div>
        </div>

        <br /><br /><br /><br />
    </div>
</div>






        <!-- modal placeholder-->
        <div id="additemModal" class="modal" data-keyboard="false" data-backdrop="static">
            <div class="modal-dialog modal-lg">
                <div class="modal-content">
                    <div id='additemModalContent'>
                        <div class="modal-header">

                            <button type="button" class="close" id="btnAddItemClose2" aria-hidden="true" data-dismiss="modal">X</button>
                            <h3 class="modal-title lead">New Schedule  </h3>
                        </div>
                        <div class="modal-body">

                            @{Html.RenderAction("_AddSchedule", "Schedule");}


                            <br />

                        </div>

                        <div class="modal-footer">
                            <span id="txtLastItem" class="pull-left lead semi-bold"></span>

                            <span id="progress" class="text-center" style="display: none;">
                                <img src="~/assets/img/Wait.gif" alt="wait" />
                                Wait..
                            </span>
                            <input type="hidden" id="txtUrl1" value="" />
                            <input type="hidden" id="txtUrl2" value="" />
                            <input type="hidden" id="btnActionType" name="btnActionType" value="0" />
                            <input type="button" class="btn btn-primary" id="btnAddItem" value=" Save & Next " />
                            <input type="button" class="btn btn-primary" id="btnAddItem2" value=" Save & Close " />
                            <button id="btnAddItemClose" class="btn btn-white" data-dismiss="modal">Close</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>


        @section Scripts{
            <script src="@Url.Content("~/assets/plugins/DataTables/js/jquery.dataTables.js")"></script>
            <script src="@Url.Content("~/assets/js/table-manage-default.demo.min.js")"></script>
            <script src="@Url.Content("~/assets/plugins/gritter/js/jquery.gritter.js")"></script>
            <script src="@Url.Content("~/assets/js/ui-modal-notification.demo.min.js")"></script>

            <script src="@Url.Content("~/assets/plugins/bootstrap-datepicker/js/bootstrap-datepicker.js")"></script>
            <script src="@Url.Content("~/assets/plugins/bootstrap-combobox/js/bootstrap-combobox.js")"></script>
            <script src="@Url.Content("~/assets/plugins/bootstrap-select/bootstrap-select.min.js")"></script>
            <script src="@Url.Content("~/assets/plugins/select2/dist/js/select2.min.js")"></script>
            <script src="@Url.Content("~/assets/plugins/bootstrap-timepicker/js/bootstrap-timepicker.min.js")"></script>
            <script src="@Url.Content("~/assets/plugins/bootstrap-tagsinput/bootstrap-tagsinput.min.js")"></script>
            <script src="@Url.Content("~/assets/plugins/bootstrap-tagsinput/bootstrap-tagsinput-typeahead.js")"></script>
            <script src="@Url.Content("~/assets/plugins/jquery-tag-it/js/tag-it.min.js")"></script>

            <script src="@Url.Content("~/assets/js/form-plugins.star.js")"></script>
            <script src="@Url.Content("~/assets/js/apps.min.js")"></script>
            <script src="@Url.Content("~/Scripts/modal-order.js")"></script>


        }



        <script>
            $(document).ready(function () {
                // App.init();
                TableManageDefault.init();
                // Notification.init();
                FormPlugins.init();

            });
        </script>

        <script>
            $(document).ready(function () {
                $('#fromDate').datepicker({
                    format: 'dd/mm/yyyy',
                    setDate: new Date(),
                    todayHighlight: true,
                    autoclose: true
                });
                $('#toDate').datepicker({
                    format: 'dd/mm/yyyy',
                    setDate: new Date(),
                    todayHighlight: true,
                    autoclose: true
                });


            });
        </script>

        <script type="text/javascript">
            $(document).ready(function () {
                $("select.coursepicker").change(function () {
                    var courseid = $(".coursepicker option:selected").val();
                    var coursename = $(".coursepicker option:selected").text();
                    //  alert(courseid);
                    $('#courseID').val(courseid);
                });

            });
        </script>

<script type="text/javascript">
    $(document).ready(function () {
        var theday = $('#selectedDate').val();
        var url1 = '@Url.Action("_DisplayClassAttendances", "Attendance", new { thedate = @System.DateTime.Today })';
        $("#divOrderDetail").load(url1);
        $('#txtUrl1').val(url1);

    });
</script>



        <script>
            $(document).ready(function () {

                $('#data-table0').DataTable({
                    "order": [[0, "desc"]],
                    "dom": '<"pull-left"f><"pull-right"l>tip'
                });
                $('#data-table1').DataTable({
                    "order": [[0, "asc"]],
                    "bFilter": false,
                    "bLengthChange": false,
                    "dom": '<"pull-right"f><"pull-right"l>tip'
                });
                $('#data-table2').DataTable({
                    "order": [[0, "desc"]],
                    "dom": '<"pull-left"f><"pull-right"l>tip'
                });
                $('#data-table3').DataTable({
                    "order": [[0, "desc"]],
                    "dom": '<"pull-left"f><"pull-right"l>tip'
                });
                $('#data-table4').DataTable({
                    "order": [[0, "desc"]],
                    "dom": '<"pull-left"f><"pull-right"l>tip'
                });
                $('#data-table5').DataTable({
                    "order": [[0, "desc"]],
                    "dom": '<"pull-left"f><"pull-right"l>tip'
                });
                $('#data-table6').DataTable({
                    "order": [[0, "desc"]],
                    "dom": '<"pull-left"f><"pull-right"l>tip'
                });



            });
        </script>


        <script type="text/javascript">
            $("#btnAddItem").click(function (e) {
                e.preventDefault();
                //  $(this).prop('disabled', true);

                $("#btnActionType").val("SaveAndNext");
                $("#addScheduleForm").submit();

            });

            $("#btnAddItem2").click(function (e) {
                e.preventDefault();
                //   $(this).prop('disabled', true);

                $("#btnActionType").val("SaveAndClose");
                $("#addScheduleForm").submit();

            });

            $("#btnAddItemClose").click(function () {
                var url = '@Url.Action("Index", "Schedule")';
                window.location = url;
            });

            $("#btnAddItemClose2").click(function () {
                var url = '@Url.Action("Index", "Schedule")';
                window.location = url;
            });

            $("#btnCloseAndReload").click(function () {
                var url = '@Url.Action("Index", "Schedule")';
                window.location = url;
            });



        </script>

